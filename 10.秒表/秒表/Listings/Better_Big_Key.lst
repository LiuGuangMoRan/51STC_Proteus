C51 COMPILER V9.54   BETTER_BIG_KEY                                                        03/10/2023 15:23:24 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE BETTER_BIG_KEY
OBJECT MODULE PLACED IN .\Objects\Better_Big_Key.obj
COMPILER INVOKED BY: D:\Keil5\Keil5 C51\C51\BIN\C51.EXE Better_Big_Key.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRI
                    -NT(.\Listings\Better_Big_Key.lst) TABS(2) OBJECT(.\Objects\Better_Big_Key.obj)

line level    source

   1          #include <REGX52.H>
   2          
   3          
   4          /** 4x4ç‚¹é˜µé”®ç›˜æ¨¡å—åŒ–
   5            * @brief  çŸ©é˜µé”®ç›˜è¯»å–æŒ‰é”®é”®ç 
   6            * @param  æ— 
   7            * @retval KeyNumber æŒ‰ä¸‹æŒ‰é”®çš„é”®ç å€¼
   8                å¦‚æœæŒ‰é”®æŒ‰ä¸‹ä¸æ”¾ï¼Œç¨‹åºä¼šåœç•™åœ¨æ­¤å‡½æ•°ï¼Œæ¾æ‰‹çš„ä¸€ç¬é—´ï¼Œè¿”å›æŒ‰é”®é”®ç ï¼Œæ²¡æ
             -œ‰æŒ‰é”®æŒ‰ä¸‹æ—¶ï¼Œè¿”å›0
   9            @explain P1_0 ~ P1_3ç«¯æ˜¯è¾“å…¥ä½ç”µå¹³ï¼ŒP1_7 ~ P1_4ç«¯æ˜¯æ¥æ”¶ä½ç”µå¹³ï¼Œé€šè¿‡æŒ‰ä¸‹æŒ‰é”®ä½œä¸ºæ
             -¡ä»¶
  10                 P1 = 0xFF ä½¿P1_0 ~ P1_7å…¨ä¸ºé«˜ç”µå¹³ï¼ŒDelayå‡½æ•°æ¶ˆé™¤æŒ‰é”®å‰åå½±å“
  11            */
  12          
  13          /**
  14           * ä½¿ç”¨å®šæ—¶å™¨å›ºå®šæ‰«æè¯¥å‡½æ•°ï¼šå®ç°å»é™¤Delayå‡½æ•°å¸¦æ¥çš„åå½±å“
  15           * 
  16           * 1.Keey_Loop()ä½œç”¨ï¼šå›ºå®šè·å–2ç§çŠ¶æ€ï¼šKey_keyNumberçš„ä½æ•°/0 -----ä½æ•°ä¸º(ä½ç”µå¹³/æŒ‰ä¸‹
             -) ï¼Œ0ä¸º(ç©ºé—²å’Œæ¾å¼€æŒ‰é”®)
  17           * 2.å®šæ—¶å™¨çš„ç”¨é€”ï¼Œæ¯éš”20msè°ƒç”¨Kee_Loop()ï¼Œå»é™¤20msçš„æŠ–åŠ¨
  18           * 3.å»æŠ–åŠ¨åŸç†ï¼šæŠ–åŠ¨åªæœ‰20ms,å½“è·å–åˆ°æŠ–åŠ¨çš„20msä¸­çš„1/0æ—¶ï¼Œä¸º1æ—¶æ²¡å…³ç³»ã€‚ä¸º0æ—¶
             -ï¼Œè¡¨ç¤ºæŒ‰ä¸‹äº†ï¼Œä½†æ˜¯åä¹Ÿè‡³å°‘æœ‰20msçš„ä½ç”µå¹³
  19           * ä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿è§¦å‘æŠ–åŠ¨çš„å€¼ï¼Œä½†ä¹Ÿæœ‰è‡³å°‘20msçš„ä¿æŒçŠ¶æ€
  20          Â * 4.æŒ‰é”®ä¸ºå‘ä¸Šæ²¿æœ‰æ•ˆï¼Œå³æ¾å¼€å°±æœ‰æ•ˆ
  21          Â * 5ï¼ŒSmallKey()ä¸ºè¾…åŠ©ï¼Œä½œç”¨å°±æ˜¯è·å–ç«¯å£çš„æŒ‰é”®æŒ‰ä¸‹çš„ä½ç”µå¹³
  22          Â * 6ï¼ŒKey_Loop()å®æ—¶ç›‘æ§å‘ä¸‹æ²¿çš„çŠ¶æ€
  23          Â * 7. key()åˆ¤æ–­æŒ‰ä¸‹ä»¥åŠæ¾æ‰‹ï¼Œå¹¶ä¸”ä¼ å€¼
  24          */
  25          
  26          
  27          unsigned char BigKey()
  28          {
  29   1        unsigned char KeyNumber=0;
  30   1        
  31   1        P1=0xFF;
  32   1        P1_3=0;
  33   1        if(P1_7==0){KeyNumber=1;}
  34   1        if(P1_6==0){KeyNumber=5;}
  35   1        if(P1_5==0){KeyNumber=9;}
  36   1        if(P1_4==0){KeyNumber=13;}
  37   1        
  38   1        P1=0xFF;
  39   1        P1_2=0;
  40   1        if(P1_7==0){KeyNumber=2;}
  41   1        if(P1_6==0){KeyNumber=6;}
  42   1        if(P1_5==0){KeyNumber=10;}
  43   1        if(P1_4==0){KeyNumber=14;}
  44   1        
  45   1        P1=0xFF;
  46   1        P1_1=0;
  47   1        if(P1_7==0){KeyNumber=3;}
  48   1        if(P1_6==0){KeyNumber=7;}
  49   1        if(P1_5==0){KeyNumber=11;}
  50   1        if(P1_4==0){KeyNumber=15;}
C51 COMPILER V9.54   BETTER_BIG_KEY                                                        03/10/2023 15:23:24 PAGE 2   

  51   1        
  52   1        P1=0xFF;
  53   1        P1_0=0;
  54   1        if(P1_7==0){KeyNumber=4;}
  55   1        if(P1_6==0){KeyNumber=8;}
  56   1        if(P1_5==0){KeyNumber=12;}
  57   1        if(P1_4==0){KeyNumber=16;}
  58   1        
  59   1        return KeyNumber;
  60   1      }
  61          
  62          
  63          
  64          unsigned char Key_KeyNumber;
  65          
  66          void Key_Loop(void)
  67          {
  68   1        static unsigned char NowState, LastState;
  69   1        LastState  = NowState;
  70   1        NowState = SmallKey();
*** WARNING C206 IN LINE 70 OF Better_Big_Key.c: 'SmallKey': missing function-prototype
  71   1        if(LastState == 1  && NowState == 0)
  72   1        {
  73   2          Key_KeyNumber = 1;    
  74   2        }
  75   1        if(LastState == 2  && NowState == 0)
  76   1        {
  77   2          Key_KeyNumber = 2;    
  78   2        }
  79   1        if(LastState == 3  && NowState == 0)
  80   1        {
  81   2          Key_KeyNumber = 3;    
  82   2        }
  83   1        if(LastState == 4  && NowState == 0)
  84   1        {
  85   2          Key_KeyNumber = 4;    
  86   2        }
  87   1          if(LastState == 5  && NowState == 0)
  88   1        {
  89   2          Key_KeyNumber = 5;    
  90   2        }
  91   1          if(LastState == 6  && NowState == 0)
  92   1        {
  93   2          Key_KeyNumber = 6;    
  94   2        }
  95   1          if(LastState == 7  && NowState == 0)
  96   1        {
  97   2          Key_KeyNumber = 7;    
  98   2        }
  99   1          if(LastState == 8  && NowState == 0)
 100   1        {
 101   2          Key_KeyNumber = 8;    
 102   2        }
 103   1          if(LastState == 9  && NowState == 0)
 104   1        {
 105   2          Key_KeyNumber = 9;    
 106   2        }
 107   1          if(LastState == 10  && NowState == 0)
 108   1        {
 109   2          Key_KeyNumber = 10;   
 110   2        }
 111   1          if(LastState == 11  && NowState == 0)
C51 COMPILER V9.54   BETTER_BIG_KEY                                                        03/10/2023 15:23:24 PAGE 3   

 112   1        {
 113   2          Key_KeyNumber = 11;   
 114   2        }
 115   1          if(LastState == 12  && NowState == 0)
 116   1        {
 117   2          Key_KeyNumber = 12;   
 118   2        }
 119   1          if(LastState == 13  && NowState == 0)
 120   1        {
 121   2          Key_KeyNumber = 13;   
 122   2        }
 123   1          if(LastState == 14  && NowState == 0)
 124   1        {
 125   2          Key_KeyNumber = 14;   
 126   2        }
 127   1          if(LastState == 15  && NowState == 0)
 128   1        {
 129   2          Key_KeyNumber = 15;   
 130   2        }
 131   1          if(LastState == 16  && NowState == 0)
 132   1        {
 133   2          Key_KeyNumber = 16;   
 134   2        }
 135   1      
 136   1      }
 137          
 138          unsigned char Key(void)
 139          {
 140   1        unsigned char Temp = 0 ;
 141   1        Temp = Key_KeyNumber;
 142   1        Key_KeyNumber = 0;
 143   1        return Temp;
 144   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    309    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      3    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
